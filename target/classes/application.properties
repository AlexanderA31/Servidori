java -jar target/iu-0.0.1-SNAPSHOT.jar# desactiva cache de thymeleaf (cosas en resources/templates)
spring.thymeleaf.cache=false
# desactiva cache de contenido estático (resources/static)
spring.resources.chain.cache=false

# para cambiar el puerto de escucha
server.port=8080

# ========== CONFIGURACIÓN HTTPS/SSL ==========
# Si estás usando un proxy reverso (nginx), no necesitas configurar SSL aquí
# El proxy reverso maneja HTTPS y redirige a este puerto en HTTP
# Configurar el servidor para que confíe en headers de proxy
server.forward-headers-strategy=native
server.tomcat.remoteip.remote-ip-header=x-forwarded-for
server.tomcat.remoteip.protocol-header=x-forwarded-proto
server.tomcat.redirect-context-root=false

# Configuración PostgreSQL
spring.datasource.driver-class-name=org.postgresql.Driver
spring.datasource.url=jdbc:postgresql://localhost:5432/impre
spring.datasource.username=postgres
spring.datasource.password=1212

# Hibernate
spring.jpa.hibernate.ddl-auto=update
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.show-sql=true
spring.jpa.defer-datasource-initialization=true
spring.sql.init.mode=always

# H2 Console desactivada (usando PostgreSQL)
# spring.h2.console.enabled=true
# spring.h2.console.path=/h2

logging.level.root=info
logging.level.es.ucm.fdi.iu=debug
logging.level.es.fdi.ucm.ucmh.controller=debug
logging.level.org.hibernate.SQL=debug
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=trace
logging.level.org.springframework.web=debug
logging.level.org.springframework.security=info
logging.level.org.thymeleaf=debug

# Configuracion de ruta donde se guardan/busca ficheros "de usuario"
# Cualquier cosa que no sea parte inmutable de la aplicacion (ej.: logo) deberia
# guardarse/buscarse en esa ruta. Por ejemplo, fotos de usuarios.
es.ucm.fdi.base-path=./data/uploads

# Si esta propiedad esta presente, y su valor es 'true', la puedes detectar
# en thymeleaf via th:if="${application.debug}". Ver StartupConfig.java

# Configuración Samba
samba.guest.access=yes
samba.browseable=yes
samba.simulate.on.windows=true
samba.smb.port=445

# ========== CONFIGURACIÓN DE REDES ==========
# Rangos de red a escanear (separados por coma)
# Red del servidor: 10.1.16.0/24
# Red de impresoras departamento 1: 10.1.1.0/24
# Red de impresoras departamento 2: 10.1.4.0/24
# Red VLAN SSID_INVITADOS: 172.18.0.0/22 (1022 hosts)
printer.discovery.networks=10.1.1.0/24,10.1.4.0/24,10.1.16.0/24,172.18.0.0/22,172.16.0.0/24,192.168.1.0/24

# Protocolo SNMP para descubrimiento cross-VLAN (funciona entre redes diferentes)
printer.discovery.snmp.enabled=true
printer.discovery.snmp.community=public
printer.discovery.snmp.timeout=3000
printer.discovery.snmp.retries=5

# Timeout para escaneo de puertos (ms) - aumentado para redes remotas
printer.discovery.port.timeout=2000

# Número de hilos paralelos para escaneo
printer.discovery.threads=50

# ========== CONFIGURACIÓN DE CONEXIÓN A IMPRESORAS ==========
# Timeout para conexión inicial (ms) - aumentado para clientes USB remotos
printer.connection.timeout=5000

# Timeout para transferencia de datos (ms) - documentos grandes pueden tardar más
printer.data.transfer.timeout=15000

# Número de reintentos automáticos en caso de fallo
printer.connection.retries=3
